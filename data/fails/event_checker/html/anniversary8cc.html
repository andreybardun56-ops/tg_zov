<!DOCTYPE html><html style="font-size: 50px;"><head>
        <meta charset="utf-8">
                <meta property="fb:app_id" content="1401568290062011">
        <meta property="og:url" content="https://event-cc.igg.com/event/anniversary8cc/">
        <meta property="og:type" content="website">
        <meta property="og:title" content="8th Anniversary Gala">
        <meta property="og:description" content="Cherish Every Moment of Passion">
        <meta property="og:image" content="https://statics.igg.com/ops/tmp/EN_(1).jpg">
        <meta property="og:image:width" content="600">
        <meta property="og:image:height" content="315">
                        <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
                <meta http-equiv="Cache-Control" content="no-cache">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="format-detection" content="telephone=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="shortcut icon" href="//event-cc.igg.com/favicon.ico" type="image/vnd.microsoft.icon">
        <title></title>
                <link rel="stylesheet" href="//statics.igg.com/assets/cc/res/events/2021/anniversary8/default/css/mobile/index.css?202510241050">
    
                              <iframe src="javascript:void(0)" title="" role="presentation" style="width: 0px; height: 0px; border: 0px; display: none;"></iframe><script async="" src="//d3utfp7z3lprg5.cloudfront.net/matomo.js"></script><script id="facebook-jssdk" src="https://connect.facebook.net/en_US/sdk.js"></script><script>!function(a){var e="https://s.go-mpulse.net/boomerang/",t="addEventListener";if("False"=="True")a.BOOMR_config=a.BOOMR_config||{},a.BOOMR_config.PageParams=a.BOOMR_config.PageParams||{},a.BOOMR_config.PageParams.pci=!0,e="https://s2.go-mpulse.net/boomerang/";if(window.BOOMR_API_key="RSD6H-JGVHG-5KTYV-GV29E-TY6A3",function(){function n(e){a.BOOMR_onload=e&&e.timeStamp||(new Date).getTime()}if(!a.BOOMR||!a.BOOMR.version&&!a.BOOMR.snippetExecuted){a.BOOMR=a.BOOMR||{},a.BOOMR.snippetExecuted=!0;var i,_,o,r=document.createElement("iframe");if(a[t])a[t]("load",n,!1);else if(a.attachEvent)a.attachEvent("onload",n);r.src="javascript:void(0)",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="width:0;height:0;border:0;display:none;",o=document.getElementsByTagName("script")[0],o.parentNode.insertBefore(r,o);try{_=r.contentWindow.document}catch(O){i=document.domain,r.src="javascript:var d=document.open();d.domain='"+i+"';void(0);",_=r.contentWindow.document}_.open()._l=function(){var a=this.createElement("script");if(i)this.domain=i;a.id="boomr-if-as",a.src=e+"RSD6H-JGVHG-5KTYV-GV29E-TY6A3",BOOMR_lstart=(new Date).getTime(),this.body.appendChild(a)},_.write("<bo"+'dy onload="document._l();">'),_.close()}}(),"".length>0)if(a&&"performance"in a&&a.performance&&"function"==typeof a.performance.setResourceTimingBufferSize)a.performance.setResourceTimingBufferSize();!function(){if(BOOMR=a.BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},!BOOMR.plugins.AK){var e=""=="true"?1:0,t="",n="d4gzayicct7ng2h3ua7q-f-50743de78-clientnsv4-s.akamaihd.net",i="false"=="true"?2:1,_={"ak.v":"39","ak.cp":"909890","ak.ai":parseInt("537709",10),"ak.ol":"0","ak.cr":67,"ak.ipv":4,"ak.proto":"h2","ak.rid":"bd16a9f","ak.r":24796,"ak.a2":e,"ak.m":"b","ak.n":"ff","ak.bpcip":"31.13.144.0","ak.cport":2444,"ak.gh":"2.20.254.164","ak.quicv":"","ak.tlsv":"tls1.3","ak.0rtt":"","ak.0rtt.ed":"","ak.csrc":"-","ak.acc":"","ak.t":"1761321023","ak.ak":"hOBiQwZUYzCg5VSAfCLimQ==MuZo2OgLOD5ryInjEgNAeIuh0uihloUxTIbspN7RuLrKJ9DNdn/OZxBxZaun9sUQ6AMkruoJ5qjLuGt9W3QJdiWMLjiiw6vIOruf4CJuMj4Xli18P0+hIAe0QeeNNVDyuvfapW22N3ei19mWoCKUBPKWYJnL/5Wt72MamZQ/5zlz+0zGw3oeMnUIuhnfxRDsNyAXGzcUfYi9gdA7LIdRhBv9jHMR5CKl3eYIVEdTcWzNXrG7Aa+j56nRaejrg4rAINPZJ8yPfilWE7TURv6Ak8yeQzsg0ICaUVOkFfV0LXyq6sYmFoB5vR7osuh+n9FPhKobPfn4Ig4aCNffHDEdX+tXVXmzH87r5QOKTqM13+ZwIdVxUGKKTdOP25MkUXUATSgvSaCoXwsHnX7u1uIjqnDMSSiCbnusM6ed7EH+3mY=","ak.pv":"308","ak.dpoabenc":"","ak.tf":i};if(""!==t)_["ak.ruds"]=t;var o={i:!1,av:function(e){var t="http.initiator";if(e&&(!e[t]||"spa_hard"===e[t]))_["ak.feo"]=void 0!==a.aFeoApplied?1:0,BOOMR.addVar(_)},rv:function(){var a=["ak.bpcip","ak.cport","ak.cr","ak.csrc","ak.gh","ak.ipv","ak.m","ak.n","ak.ol","ak.proto","ak.quicv","ak.tlsv","ak.0rtt","ak.0rtt.ed","ak.r","ak.acc","ak.t","ak.tf"];BOOMR.removeVar(a)}};BOOMR.plugins.AK={akVars:_,akDNSPreFetchDomain:n,init:function(){if(!o.i){var a=BOOMR.subscribe;a("before_beacon",o.av,null,null),a("onbeacon",o.rv,null,null),o.i=!0}return this},is_complete:function(){return!0}}}}()}(window);</script><script>bazadebezolkohpepadr="14966849"</script><script type="text/javascript" src="https://event-cc.igg.com/akam/13/e460f4" defer=""></script><style>#igg-footer { padding:1em 0; text-align:center; font-size:16px;  }
#igg-footer *{ margin:0; padding:0; vertical-align:middle; font:inherit; line-height:1.2 !important }
#igg-footer .igg_logo { padding:.2em 0 1.8em; }
#igg-footer .igg_logo img { height:64px; width:auto; display:inline-block; vertical-align:middle; -ms-interpolation-mode:bicubic; }
#igg-footer .copyright p { font-family:Arial, Helvetica, sans-serif; margin:0 auto .5em; color:#a2a2a2; }

#igg-footer .copyright a { text-decoration:none; color:#a2a2a2; display:inline-block !important;}
#igg-footer .copyright a:hover,#igg-footer .copyright a:active{ text-decoration:underline; color:#ab6d1d; }
@media all and (max-width:480px) {
    #igg-footer .igg_logo img{ height:44px;}
    #igg-footer{ font-size:12px}
}
@media all and (min-width:481px) and (max-width:750px){
    #igg-footer .igg_logo img{ height:50px;}
    #igg-footer{ font-size:13px}
}</style><style>@keyframes screenRotationControlAni {0%,30% {transform: rotate(-90deg)}100%,70% {transform: rotate(0)}}</style></head>
    <body class="ru" style="visibility: visible;">
        <script>
                    window.fbAsyncInit = function() {
                FB.init({
                  appId            : '1401568290062011',
                  autoLogAppEvents : true,
                  xfbml            : true,
                  version          : 'v2.12'
                });
              };
    
              (function(d, s, id){
                 var js, fjs = d.getElementsByTagName(s)[0];
                 if (d.getElementById(id)) {return;}
                 js = d.createElement(s); js.id = id;
                 js.src = "https://connect.facebook.net/en_US/sdk.js";
                 fjs.parentNode.insertBefore(js, fjs);
               }(document, 'script', 'facebook-jssdk'));
    
              function fbshare(url, callback) {
                  FB.ui({
                      method: 'share',
                      mobile_iframe: true,
                      href: url,
                  }, function(response){
                      if ('undefined' != typeof(response) && 'function' == typeof(callback)) {
                          callback(response);
                      }
                  });
              }

                function shareToFacebook(url) {
                    window.open('https://www.facebook.com/sharer/sharer.php?u="' + encodeURIComponent(url));
                }

                function shareToTwitter(url, title='') {
                    window.open('https://twitter.com/share?url=' + encodeURIComponent(url) + '&text=' + encodeURIComponent(title));
                }

                function shareToNaver(url, title = '') {
                    window.open('https://share.naver.com/web/shareView.nhn?url='+ encodeURI(encodeURIComponent(url)) +'&title='+encodeURI(title));
                }

                function shareToVk(url) {
                    window.open('http://vk.com/share.php?url='+ encodeURIComponent(url));
                }
                  </script>
        <script>
    <!-- Matomo -->
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
        var u="//d3utfp7z3lprg5.cloudfront.net/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
                _paq.push(['setSiteId', '18']);
                var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
    <!-- End Matomo Code -->
</script>
<style type="text/css">
/*popup */
.common-pop-bg{ position: fixed; left:0; top:0; width:100%; height:100%; background:#000; z-index:95; opacity:0.5;transition: display 0.5s ease 0s }
.common-pop-btn-close{ width:27px; height:27px; background:url(/themes/images/event/common/btn_close.png) no-repeat 0 0; background-size:27px 27px;position:absolute; top:-15px; right:-15px;}

.common-pop{margin:0 auto; padding:2px; color:#FFF; font-size:12px;border-radius:10px;position: fixed;z-index:200;}

.common-pop-tips, .common-pop-confirm{width:300px; top:25%; left:50%; margin-left:-150px; text-align:center}
.common-pop-tips .common-pop-con, .common-pop-confirm .common-pop-con{ padding:20px 15px; border:1px solid #9075ac; border-radius:5px;background-color:rgba(23,13,33,.5); position:relative}
.common-pop-tips .common-pop-con img, .common-pop-confirm .common-pop-con img{ display:block; margin:3px auto; height:36px;}

.common-pop-block { width:80%; padding:1px; display:inline-block; border-radius:8px; -moz-border-radius:8px; -webkit-border-radius:8px; box-shadow:inset 0 -1px 0 #143319; border:2px solid #476d41; background-color:#0d2110; position: fixed; top:13%; left:50%; margin-left:-40%; z-index:150; color:#FFF ;transition: display 0.5s ease 0s}
.common-pop-block .common-pop-btn-close { width:25px; height:25px; background:url(/themes/images/event/common/close.png) no-repeat 0 0; background-size:100% 100%; position:absolute; top:4px; right:5px; z-index:100; }
.common-pop-block .common-pop-con { margin:10px; max-height:200px; overflow:auto}
.common-pop-block .common-pop-title { height:30px; line-height:30px; margin:1px; text-align:center; font-size:15px; font-weight:bold; color:#FFF; text-transform:uppercase;border-radius:5px; -moz-border-radius:5px; -webkit-border-radius:5px; border-bottom-left-radius:0; border-bottom-right-radius:0; box-shadow:inset 0 1px 0 #3f8925;text-shadow:1px 1px 0 rgba(0,0,0,.75); background-color:#295918}
.common-pop-block table { width:100%; max-width:100% !important }
.common-pop-block table th{text-align:center; line-height:24px; background-color:#34623c; font-size:14px; font-weight:bold; color:#FFF;text-align:center; }
.common-pop-block table td{ text-align:center; line-height:20px; color:#ffa800}
.common-pop-block table tr:nth-child(odd) td{ background-color:#1a4220}
.common-pop-block table tr:nth-child(even) td{ background-color:#34623c}
.common-pop-block .table_con,.common-pop-block .rules_con{ max-height:136px; overflow:auto;} 
.common-pop-block .rules_con{ text-align:left} 

.common-pop .btn_col{ margin-top:10px; text-align:center;}
.common-pop .btn_col a{ min-width:60px; height:22px; display:inline-block; border:1px solid #9075ac; color:#FFF; text-align:center; line-height:22px; margin:0 5px;}
.common-pop .btn_col a.confirm{border:1px solid #9075ac;}
.common-pop .btn_col a.cancel{ border:1px solid #999}

.common-pop-gift {
    width: 900px;
    max-height: 80%;
    background: #f9edd7;
    border: 2px solid #bc7a47;
    position: absolute;
    z-index: 112;
    left: 50%;
    top: 50px;
    box-sizing: border-box;
    font-size: 26px;
    padding: 30px;
    transform: translateX(-50%);
    -webkit-transform: translateX(-50%);
    -moz-transform: translateX(-50%);
    -ms-transform: translateX(-50%);
    -o-transform: translateX(-50%);
    border-radius: 10px;
    -webkit-border-radius: 10px;
    -moz-border-radius: 10px;
    -ms-border-radius: 10px;
    -o-border-radius: 10px;
}

.common-pop-gift a.close {
    width: 70px;
    height: 70px;
    position: absolute;
    right: -20px;
    top: -20px;
    background: url('/themes/images/event/common/close.png') no-repeat center;
    background-size: contain;
}

.common-pop-gift .gift-overflow{
    width: 100%;
    max-height: 400px;
    overflow-y: scroll;
}
.common-pop-gift .pop_title {
    font-size: 30px;
    color: #ab6739;
    font-weight: bold;
    font-family: "Microsoft YaHei";
}

.common-pop-gift .con {
    width: 100%;
    font-size: 24px;
    padding: 0 40px;
    box-sizing: border-box;
}

.common-pop-gift .items-wrap {
    width: 100%;
    display: -webkit-box;
    display: -moz-box;
    display: -o-box;
    display: -ms-flexbox;
    display: flex;
    flex-wrap: wrap;
    -webkit-flex-wrap: wrap;
    -moz-flex-wrap: wrap;
    -ms-flex-wrap: wrap;
    -o-flex-wrap: wrap;
}

.common-pop-gift .items-wrap li {
    width: 120px;
    height: 120px;
    background:rgb(178 166 170);
    border: 2px solid #37707e;
    text-align: center;
    margin: 10px;
    padding: 20px;
    box-sizing: border-box;
    position: relative;
    display: -webkit-box;
    display: -moz-box;
    display: -o-box;
    display: -ms-flexbox;
    display: flex;
    align-items: center;
    -webkit-align-items: center;
    -moz-align-items: center;
    -ms-align-items: center;
    -o-align-items: center;
    border-radius: 7px;
    -webkit-border-radius: 7px;
    -moz-border-radius: 7px;
    -ms-border-radius: 7px;
    -o-border-radius: 7px;
}


.common-pop-gift .items-wrap li img {
    margin: 0 auto;
}

.common-pop-gift .items-wrap li .num {
    right: 20px;
    bottom: 0;
    position: absolute;
    font-size: 30px;
    color: #fff;
    text-shadow: -1px -1px 1px #8f6630, 1px -1px 1px #8f6630, -1px 1px 1px #8f6630, 1px 1px 1px #8f6630;
}

.common-pop-gift .items-wrap li.got {
    background: rgb(186 179 171);
}

.arb{direction: rtl;}
.arb .common-pop-block .common-pop-btn-close{right:auto; left:5px}
.arb .common-pop-block .common-pop-con{ text-align: right}

@media screen and (min-width: 450px) and (max-width: 820px){
    .common-pop-gift {
        width: 600px;
    }
    .common-pop-gift .con{
        padding: 0 10px;
    }
    .common-pop-gift .gift-overflow {
        max-height: 200px;
    }
    .common-pop-gift .items-wrap li {
        width: 80px;
        height: 80px;
        padding: 10px;
    }
    .common-pop-gift .pop_title,
    .common-pop-gift .items-wrap li .num {
        font-size: 20px;
    }
    .common-pop-gift .items-wrap li img{
      max-width: 100%;
    }

    .common-pop-gift a.close{
        width: 40px;
        height: 40px;
    }
}

@media screen and (min-width: 320px) and (max-width: 450px){
    .common-pop-gift {
        width: 300px;
        padding: 10px;
    }
    .common-pop-gift .con{
        padding: 0 5px;
    }
   .common-pop-gift .items-wrap li {
        width: 80px;
        height: 80px;
        padding: 10px;
        margin: 4px;
    }
    .common-pop-gift a.close{
        width: 40px;
        height: 40px;
    }
    .common-pop-gift .pop_title{
        font-size: 18px;
    }
    .common-pop-gift .pop_title,
    .common-pop-gift .items-wrap li .num {
        font-size: 20px;
    }
    .common-pop-gift .items-wrap li img{
      max-width: 100%;
    }
}
</style>
<div class="common-pop-bg" style="display:none"></div>

<div class="common-pop common-pop-tips" style="display:none">
    <div class="common-pop-con">
        <a href="javascript:;" class="common-pop-btn-close"></a>
        <p id="common-pop-tips-con"></p>
    </div>
</div>

<div class="common-pop common-pop-confirm" style="display:none">
    <div class="common-pop-con">
        <a href="javascript:;" class="common-pop-btn-close"></a>
        <p id="common-pop-confirm-con"></p>
        <div class="btn_col"><a href="javascript:;" class="confirm">Подтвердить</a><a href="javascript:;" class="common-pop-btn-cancel cancel">Отменить</a></div>
    </div>
</div>

<div class="common-pop common-pop-block common-pop-rule" style="display:none">
    <a href="javascript:;" class="common-pop-btn-close"></a>
    <h3 class="common-pop-title">Правила</h3>
    <div class="common-pop-con">
        <div class="rules_con"><p>
	<span style="font-size: 18px;">Event Rules:</span><br style="font-size: 18px;">
	<br style="font-size: 18px;">
	<span style="font-size: 18px;">Event duration:</span><br style="font-size: 18px;">
	<br style="font-size: 18px;">
	<strong style="font-size: 18px;"><span style="color: rgb(255, 0, 0);">Jul 20 00:00:00 - Jul 25 23:59:59 (GMT-5)</span></strong><br style="font-size: 18px;">
	<br style="font-size: 18px;">
	<span style="font-size: 18px;">1. Bring your friends to Castle Clash's 8th anniversary celebration! Every player can generate a unique invitation code. You will receive the corresponding reward when you invite 1, 3, 5, and 8&nbsp;</span><strong style="font-size: 18px;"><span style="color: rgb(255, 0, 0);">new players [accounts registered after Jul 20th 2021(GMT-5)]</span></strong><span style="font-size: 18px;">&nbsp;to watch the MV.</span><br style="font-size: 18px;">
	<br style="font-size: 18px;">
	<span style="font-size: 18px;">2. The invited player must enter the invitation code to complete the invitation. Every account may only be invited once.</span><br style="font-size: 18px;">
	<br style="font-size: 18px;">
	<span style="font-size: 18px;">3. Every player may invite up to 8 other players. (In other words, your invitation code can be used up to 8 times.)</span><br style="font-size: 18px;">
	<br style="font-size: 18px;">
	<span style="font-size: 18px;">4. Rewards will be sent to your in-game mailbox. The mailbox can hold up to 60 messages, and mail expires after 7 days. Please ensure you have enough space in your mailbox and obtain your rewards before they expire. IGG and Castle Clash will not be held responsible for any loss of rewards caused by a player's mailbox overflowing or mail expiry.</span></p></div>
    </div>
</div>

<div class="common-pop common-pop-block common-pop-record" style="display:none">
    <a href="javascript:;" class="common-pop-btn-close"></a>
    <h3 class="common-pop-title">Награды</h3>
    <div class="common-pop-con">
        <div class="table_con">
        <table border="0" cellspacing="0" cellpadding="0">
            <thead>
                <tr>
                    <th>Награда</th>
                    <th>Дата</th>
                </tr>
            </thead>
            <tbody id="common-pop-record-my">
                            </tbody>
        </table>
        </div>
    </div>
</div>

<div class="common-pop common-pop-block common-pop-reward" style="display:none">
    <a href="javascript:;" class="common-pop-btn-close"></a>
    <h3 class="common-pop-title">Награда</h3>
    <div class="common-pop-con">
        <div class="table_con">
        <table border="0" cellspacing="0" cellpadding="0">
            <thead>
                <tr>
                    <th>Награда</th>
                    <th>Описание наград</th>
                </tr>
            </thead>
            <tbody id="common-pop-record-my">
                        </tbody>
        </table>
        </div>
    </div>
</div>

<div class="common-pop common-pop-gift" style="display:none;">
    <a class="close common-pop-btn-close" href="javascript:void(0);"></a>
    <div class="gift-overflow">
        <div class="common-pop-gift-rare" style="display: none;">
            <h4 class="pop_title">!REWARD_RARE!</h4>
            <div class="con">
                <ul class="items-wrap clearfix"></ul>
            </div>
        </div>
        <div class="common-pop-gift-ordinary" style="display: none;">
            <h4 class="pop_title">!REWARD_ORDINARY!</h4>
            <div class="con">
                <ul class="items-wrap clearfix"></ul>
            </div>
        </div>

    </div>
</div>

<script type="text/javascript" src="/themes/js/jquery-1.7.1.min.js"></script>
<script type="text/javascript">
    $(function () {
        $('a[href="javascript:history.go(-1);"]').hide();
    });

    function CommonPop() {
        this.callback = null;
        this.args = null;

        this.loadPrizes = function(prizes) {
            for(var i in prizes) {
                var prize = prizes[i];
                prize.amount = prize.amount || 1;
                if ('undefined' != typeof(prize.extra_config) && 'undefined' != typeof(prize.extra_config.rare_type) && 1 == prize.extra_config.rare_type) {
                    $('.common-pop-gift .common-pop-gift-rare .items-wrap').append('<li>\n' +
                        '                    <img src="'+ prize.ap_img +'" alt="'+ prize.ap_name +'" />\n' +
                        '                    <span class="num">x'+ prize.amount +'</span>\n' +
                        '                </li>');
                    $('.common-pop-gift .common-pop-gift-rare').show();
                } else {
                    $('.common-pop-gift .common-pop-gift-ordinary .items-wrap').append('<li>\n' +
                        '                    <img src="'+ prize.ap_img +'" alt="'+ prizes.ap_name +'" />\n' +
                        '                    <span class="num">x'+ prize.amount +'</span>\n' +
                        '                </li>');

                    $('.common-pop-gift .common-pop-gift-ordinary').show();
                }

            }
        }

        this.showPrizes = function() {
            this.showBg();
            $('div.common-pop-gift').show();
        }
        
        this.showTips = function(tips, img, callback, args){
            var tipsHtml = tips;
            if (img) {
                tipsHtml = '<img src="'+ img +'" />' + tipsHtml;
            }
            
            this.showBg();
            $('.common-pop-tips #common-pop-tips-con').html(tipsHtml);
            $('div.common-pop-tips').show();
            
            this.callback = callback || null;
            this.args = args || null;
        }
        
        this.showConfirm = function(tips, img, confirmCallback, confirmArgs, cancelCallback, cancelArgs){
            var tipsHtml = tips;
            if (img) {
                tipsHtml = '<img src="'+ img +'" />' + tipsHtml;
            }
            
            this.showBg();
            $('.common-pop-confirm #common-pop-confirm-con').html(tipsHtml);
            $('.common-pop-confirm').show();
            
            var cfcb = confirmCallback;
            var cfa = confirmArgs;
            $('.common-pop-confirm a.confirm').unbind('click');
            $('.common-pop-confirm a.confirm').click(function(){
                $('div.common-pop').hide();
                $('div.common-pop-bg').hide();
                
                if (typeof cfcb == 'function') {
                    cfcb(cfa);
                }
            });
            
            this.callback = cancelCallback || null;
            this.args = cancelArgs || null;
        }
        
        this.showRule = function() {
            this.showBg();
            $('div.common-pop-rule').show();
        }
        
        this.showReward = function() {
            this.showBg();
            $('div.common-pop-reward').show();
        }
        
        this.showRecord = function(){
            this.showBg();
            $('div.common-pop-record').show();
        }
        
        this.clearRecord = function() {
            $('div.common-pop-record #common-pop-record-my').html('');
        }

        this.addRecord = function(record) {
            $('div.common-pop-record #common-pop-record-my').prepend(record);
        }
        
        this.hidePop = function(){
            $('div.common-pop').hide();
            this.hideBg();
            if (typeof this.callback == 'function') {
                this.callback(this.args);
                this.callback = null;
            }
        }
        
        this.showBg = function(){
            $('div.common-pop-bg').show();
        }
        
        this.hideBg = function(){
            $('div.common-pop-bg').hide();
        }
        
        this.init = function(){
            var cp = this;
            $('.common-pop-btn-close, .common-pop-btn-cancel').click(function(){cp.hidePop();});
        }
        
        this.init();
    }
    
    var commonPop = new CommonPop();
</script><div id="app">
    <div class="head__Wrap">
        <div class="logo">
            <img src="//statics.igg.com/assets/cc/res/events/2021/anniversary8/default/img/logo.png" alt="">
        </div>
        <!-- pc -->
        <div class="navbar isPc" style="display: none;">
            <div class="nav__item">
                <a href="https://www.igg.com" target="_blank">Посетить главную страницу</a>
            </div>
            <div class="nav__item">
                <a href="javascript:fbshare('https://event-cc.igg.com/event/anniversary8cc/index.php');">Поделиться</a>
            </div>
            <div class="nav__item">
                <a href="https://castleclash.igg.com/download/" target="_blank">СКАЧАТЬ</a>
            </div>
            <div class="nav__item lang-selector">
                <div class="default-name">Pусский</div>
                <ul class="lang__list">
                    <li class="lang__item" lang="en">English</li>
                    <li class="lang__item" lang="tw">繁體中文</li>
                    <li class="lang__item" lang="de">Deutsch</li>
                    <li class="lang__item" lang="fr">Français</li>
                    <li class="lang__item" lang="ru">Pусский</li>
                    <li class="lang__item" lang="jp">日本語</li>
                    <li class="lang__item" lang="es">Español</li>
                    <li class="lang__item" lang="th">ไทย</li>
                    <li class="lang__item" lang="id">Bahasa Indonesia</li>
                    <li class="lang__item" lang="it">Italiano</li>
                    <li class="lang__item" lang="kr">한국어</li>
                    <li class="lang__item" lang="vn">Tiếng Việt</li>
                    <li class="lang__item" lang="tr">Türkçe</li>
                    <li class="lang__item" lang="pt">Português</li>
                    <li class="lang__item" lang="arb">العربية‏</li>
                </ul>
            </div>
            <div class="nav__item play__loading music" style="display: none;">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>

        <!-- mb -->
        <div class="navbar isMb">
            <div class="nav__item lang-selector">
                <div class="default-name">Pусский</div>
                <ul class="lang__list">
                    <li class="lang__item" lang="en">English</li>
                    <li class="lang__item" lang="tw">繁體中文</li>
                    <li class="lang__item" lang="de">Deutsch</li>
                    <li class="lang__item" lang="fr">Français</li>
                    <li class="lang__item" lang="ru">Pусский</li>
                    <li class="lang__item" lang="jp">日本語</li>
                    <li class="lang__item" lang="es">Español</li>
                    <li class="lang__item" lang="th">ไทย</li>
                    <li class="lang__item" lang="id">Bahasa Indonesia</li>
                    <li class="lang__item" lang="it">Italiano</li>
                    <li class="lang__item" lang="kr">한국어</li>
                    <li class="lang__item" lang="vn">Tiếng Việt</li>
                    <li class="lang__item" lang="tr">Türkçe</li>
                    <li class="lang__item" lang="pt">Português</li>
                    <li class="lang__item" lang="arb">العربية‏</li>
                </ul>
            </div>
            <div class="audio__wrap">
                <audio class="play__audio" src="https://statics.igg.com/ops/tmp/Castle_Clash_KHS_Song_6-21.mp3" loop="loop"></audio>
                <div class="nav__item play__loading music" style="display: none;">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <!-- 引导页 -->
        <div class="guide__page">
            <div class="entrance__wrap">
                <span class="entr-bg"></span>
                <span class="entrance__txt">Войти</span>
            </div>
            <div class="slogan__wrap">
                <img src="//statics.igg.com/assets/cc/res/events/2021/anniversary8/default/img/slogan-ru.png" alt="">
            </div>
        </div>
        <!-- 只在移动端显示 -->
        <div class="mb__nav">
            <span class="nav__arrow"></span>
            <a href="https://www.igg.com" target="_blank" class="mb__nav-item home"></a>
            <a href="https://www.facebook.com/CastleClash" target="_blank" class="mb__nav-item star"></a>
            <a href="javascript:fbshare('https://event-cc.igg.com/event/anniversary8cc/index.php');" class="mb__nav-item share"></a>
        </div>
        <!-- 内页 -->
        <div class="slide__box">
            <!-- pc mb公用部分 -->
            <div class="hd tab__content isMb page-list">
                <a class="prev isMb"></a>
                <ul>
                    <li class="tab__item" page="1" style="display: none;"><span>MV посмотреть и поделиться</span></li>
                    <li class="tab__item back__home on"><span>Вернуться на главную страницу</span></li>
                </ul>
                <a class="next isMb"></a>
            </div>
            <div class="bd page__content">
                <ul>
                    <li class="page__item page1" page="1" style="display: none;">
                        <div class="common__tit-wrap">
                            <div class="common__tit-name">
                                <div class="tit__txt">MV посмотреть и поделиться</div>
                            </div>
                            <span class="event__rule"></span>
                        </div>
                        <div class="main__content">
                            <div class="video__wrap">
                                <div class="video__inner">
                                    <img src="https://img1.igg.com/game/1030/event/2021/07/09/033349_60e809ed27ef89872.jpg" alt="">
                                    <span class="video__player" videosrc="https://statics.igg.com/video/game/1030/2021/Kurt_Schneider_-_IGG_Castle_Clash(60s)压缩.mp4"></span>
                                </div>
                            </div>
                            <div class="more__content">
                                <div class="more__code-wrap">
                                    <div class="my__code-item">
                                        <span class="code-name">Мой IGG ID</span>
                                        <input type="text" value="" id="iggid" class="code-num" readonly="">
                                        <span class="code-status" id="iggid-status"></span>
                                    </div>
                                    <div class="my__code-item">
                                        <span class="code-name">Код поделившегося</span>
                                        <input type="text" value="" id="friend-code" class="code-num">
                                        <span class="code-status" id="code-status"></span>
                                    </div>
                                </div>
                                <div class="code__share-wrap">
                                    <div class="share__item">
                                        <div class="share__txt share-title">Поделиться с друзьями</div>
                                        <div class="share__txt share-code">Мой код: <em id="my-code"></em></div>
                                        <div class="share__btn" data-clipboard-text="" id="btn-share" style="display: none;">Копировать</div>
                                    </div>
                                    <div class="share__item">
                                        <div class="share__txt">Поделился с <em id="invite-count">0</em></div>
                                        <div class="share__btn" data-clipboard-text="" id="btn-invite">Пригласить</div>
                                    </div>
                                </div>
                                <div class="more__code-step"></div>
                            </div>
                        </div>
                    </li>

                    <li class="page__item pageback">
                        <div class="cloud__wrap">
                            <span class="cloud__item cloud1"></span>
                            <span class="cloud__item cloud2"></span>
                            <span class="cloud__item cloud3"></span>
                            <span class="cloud__item cloud4"></span>
                            <span class="cloud__item cloud5"></span>
                        </div>
                        <div class="main__content">
                            <div class="main__entrance isMb page-map">
                                <div class="entrance__item entrance1" page="1" style="display: none;">
                                    <div class="entrance__name"><span>MV посмотреть и поделиться</span></div>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="footer__wrap isPc" style="display: none;">
        <div class="footer">
            <script src="https://policies.igg.com/global/common_footer?family=igg&amp;lang=rus"></script><div id="igg-footer"><div class="igg_logo"><a href="//www.igg.com">
<picture><source srcset="https://statics-global.igg.com/assets/igg_site/images/igg-logo-200-b.webp" type="image/webp"><img src="https://statics-global.igg.com/assets/igg_site/images/igg-logo-200-b.png" alt="IGG"></picture>
</a></div>
<div class="copyright">
<p>© 2025 IGG All Rights Reserved.</p>
<p>
<a href="https://policies.igg.com/terms_of_service?tag=rus">Условия обслуживания</a> |
<a href="https://policies.igg.com/privacy_policy?tag=rus">Полит. приватности</a>
</p>
</div></div>
        </div>
    </div>
    <!-- 弹窗 -->
    <!-- 公共弹窗 -->
    <div class="popup__mask" style="display: none;"></div>
    <div class="popup__dialog" style="display: none;">
        <span class="dialog__close"></span>
        <div class="dialog__tit">活动规则</div>
        <div class="dialog__content">
            <center>活动概述：</center>
            <p>活动概述：携好友抢先观看MV领好礼。活动期间，通过code： 邀请X位新玩家观看MV,可领取XX奖励; 邀请X位新玩家观看MV</p>
            <div class="gift__list">
                <div class="gift__item">
                    <img src="//statics.igg.com/assets/cc/res/events/2021/anniversary8/default/img/box.png" alt="">
                    <span class="num">2</span>
                </div>
                <div class="gift__item">
                    <img src="//statics.igg.com/assets/cc/res/events/2021/anniversary8/default/img/box.png" alt="">
                    <span class="num">2</span>
                </div>
                <div class="gift__item">
                    <img src="//statics.igg.com/assets/cc/res/events/2021/anniversary8/default/img/box.png" alt="">
                    <span class="num">2</span>
                </div>
                <div class="gift__item">
                    <img src="//statics.igg.com/assets/cc/res/events/2021/anniversary8/default/img/box.png" alt="">
                    <span class="num">2</span>
                </div>
            </div>
        </div>
        <div class="dialog__btn">确认</div>
    </div>

    <!-- 视频框 -->
    <div class="video__proup" style="display: none;">
        <div class="video">
            <div class="video__source"></div>
            <span class="close"></span>
        </div>
    </div>
</div>
<script defer="defer" src="//statics.igg.com/assets/cc/res/events/2021/anniversary8/default/js/mobile/index.js"></script>
<script src="//statics.igg.com/assets/lib/superslider/js/jquery.SuperSlide.2.1.3.js"></script>
<script src="//statics.igg.com/assets/lib/igg/orientation/js/orientation.js"></script>
<script type="text/javascript" src="/themes/js/clipboard.min.js"></script>
<script type="text/javascript">
    var device = '';
    $(function () {
        var UA = function () {
            var ua = navigator.userAgent;
            var isMobile = /ipad|iphone|android|mobile/gi.test(ua);

            return {
                ua: ua,
                isMobile: isMobile
            };
        };
        var _ua = UA();

        if (_ua.isMobile) {
            $('.tab__content').addClass('isMb').removeClass('isPc');
            $('.main__entrance').addClass('isMb').removeClass('isPc');
            $('.isPc').hide();
            device = '.isMb';
        } else {
            $('.tab__content').addClass('isPc').removeClass('isMb');
            $('.main__entrance').addClass('isPc').removeClass('isMb');
            $('.isMb').hide();
            device = '.isPc';
        }


        // 页面翻转js
        new ScreenRotationControl({
            vertical:'landscape',
            tip:"Пожалуйста, поверните экран."
        })

        
        $('.back__home').click(function() {
          $('.tab__content.isMb').hide();
        })
      
        // 展开语言
        $('.nav__item .default-name').on("click",function(e) {
          e.stopPropagation();
          $(this).siblings('.lang__list').show();
        })

        // 点击展开侧边按钮
        $('.nav__arrow').click(function () {
          $(this).parents('.mb__nav').toggleClass('is-open');
        })

        $('body').click(function(e) {
          var target = $(e.target);
          if (!target.is('.nav__arrow') && !target.is('.mb__nav *')) {
              $('.mb__nav').removeClass('is-open');
          }
          if (!target.is('.default-name') && !target.is('.nav__item *')) {
              $('.lang__list').hide();
          }
        });

        // 视频打开及关闭
        $('.page__content').on('click', '.video__player', function () {
            var videoSrc = $(this).attr('videosrc');
            var str = '<video  autoplay width=\"100%\" height=\"100%\" controls=\"\"src=\"' + videoSrc + '\"></video>';
            $('.video__proup').show().find('.video').addClass('modal-open');
            $('.video .video__source').html(str);
            $('.video__source video').trigger('play');
            audioPause();
        });

        $('.vedio-source').mouseenter(function () {
            $('.vedio-source video').attr('controls', true);
        }).mouseleave(function () {
            $('.vedio-source video').attr('controls', false);
        });
        $('.close').click(function () {
            $('.video .video__source').html('');
            $(this).parents('.video__proup').hide().find('.video').removeClass('modal-open');
            if (!userPauseAudio) {
                audioPlay();
            }
        });

        $('body > *').bind('click', function(e) {
            var target = $(e.target);
            if (!target.is('.code__step-item, .code__step-item *') && !target.is('.step__gift-list') && !target.is('.step__gift-list *')) {
                $('.step__gift-list').hide();
            }
        });
    });
</script>
<script>
    var request = false;
    var lang = 'ru';
    var audio;
    var userPauseAudio = false;

    var eventConfig;

    var iggid;
    var user;
    var userExtra;
    var friendCode;
    var friendCodeCheck = false;

    $(function(){
        // 禁用背景音乐
        $('.music').hide();
        userPauseAudio = true;
        // 切换语言
        $('.nav__item .default-name').on("click",function(params) {
            $(this).siblings('.lang__list').show();
        })

        $('.lang__item').click(function () {
            var l = $(this).attr('lang');
            // if (l != lang) {
                document.location.href = '?g_id=1030019902&lang=' + l;
            // }
        });
        $('.default-name').text($(".lang__item[lang="+ lang +"]:first").text());

        // 音频
        audio = $('.audio__wrap audio').get(0);
        $('.music').click(function () {
            if (audio.paused) {
                audioPlay();
                userPauseAudio = false;
            } else {
                audioPause();
                userPauseAudio = true;
            }
        });
        $('#app').one('click', function (e) {
            var target = $(e.target);
            if (!target.is('.music') && !userPauseAudio) {
                audioPlay()
            }
        });

        $('.event__rule').click(function () {
            commonPop.showRule();
        });

        $('#friend-code').bind({
            paste: checkCode,
            keyup: checkCode
        });

        $('#iggid').blur(function () {
            if (user || request) {
                return;
            }

            var curtIggid = $(this).val().trim();
            if (!curtIggid) {
                clearIggidCheckStatus();
                return;
            }

            if (curtIggid == iggid) {
                return;
            }

            request = true;
            commonPop.showBg();
            $.getJSON('./ajax.req.php?action=check_iggid&iggid=' + curtIggid, function (json) {
                var msg = '';
                if (0 == json.status) {
                    switch (json.error) {
                        case -1:
                            msg = "Событие еще не началось, или уже завершилось";
                            break;

                        case 1:
                            msg = "Пожалуйста, сначала зайдите.";
                            break;

                        case 2:
                            msg = "Аккаунт не подходит.";
                            break;

                        default:
                            msg = "Неожиданная ошибка, пожалуйста, попробуйте позже.";
                            break;
                    }

                    setIggidCheckFail();
                    commonPop.showTips(msg);
                } else {
                    commonPop.hideBg();
                }

                request = false;
            });
        });

        $('.tab__item[page=1], .entrance__item[page=1]').one('click', function () {
            checkCode();
        });

        init();
    });

    function checkCode () {
        if (friendCodeCheck || request) {
            return;
        }

        var code = $('#friend-code').val().trim();
        if (!code) {
            clearCodeCheckStatus();
            return;
        }

        if (code.length < 6 || friendCode == code) {
            return;
        }

        request = true;
        commonPop.showBg();
        $.getJSON('./ajax.req.php?action=invite&code=' + code, function (json) {
            var msg = '';
            if (0 == json.status) {
                switch (json.error) {
                    case -1:
                        msg = "Событие еще не началось, или уже завершилось";
                        break;

                    case 51:
                        msg = "Пожалуйста, сначала зайдите.";
                        break;

                    case 52:
                        msg = "Аккаунт не подходит.";
                        break;

                    case 1:
                        msg = "Уже приглашен(а).";
                        break;

                    case 2:
                        msg = "Код не должен быть пустым.";
                        break;

                    case 22:
                        msg = "Нельзя пригласить себя.";
                        break;

                    case 3:
                        msg = "Неверный код.";
                        break;

                    default:
                        msg = "Неожиданная ошибка, пожалуйста, попробуйте позже.";
                        break;
                }

                setCodeCheckFail();
                commonPop.showTips(msg);
                $('#code-status.is-infos').click(function () {
                    commonPop.showTips(msg);
                });
            } else {
                user = json.data.user;
                loadUser();
                commonPop.hideBg();
            }

            request = false;
        });
    }

    function audioPlay() {
        try {
            audio.play();
            $('.music').addClass('on');
        } catch (e) {
            // 自动播放音频失败
            console.info('Auto play audio failed.');
            console.info(e);
        }
    }

    function audioPause() {
        audio.pause();
        $('.music').removeClass('on');
    }
    // 首页进来
    $('.entrance__wrap').click(function(){
        $('.guide__page').hide('slow');
        $('.slide__box').show('slow');
        visibleTab();
    });
    function visibleTab() {
      if ($('.pageback').is(':visible')==true) {
        $('.tab__content.isMb').hide();
      } else {
        $('.tab__content.isMb').show();
      }
    
    }

    function loadNews(news) {
        var indexBase = 1;
        if (eventConfig.extra_config.share_event) {
            $('.entrance__item.entrance1').show();
            $('.tab__item[page=1]').show();
            indexBase++;
        } else {
            $('.page__item.page1').remove();
            $('.entrance__item.entrance1').remove();
            $('.tab__item[page=1]').remove();
        }

        if (news) {
            $.each(news, function (i, v) {
                var index = i+indexBase;
                $('.tab__item.back__home').before('<li class="tab__item" page="'+ index +'"><span>'+ v.e_name +'</span></li>');
                $('.page-map').append('<div class="entrance__item entrance'+ index +'" page="'+ index +'">\n' +
                    '                                    <div class="entrance__name"><span>'+ v.e_name +'</span></div>\n' +
                    '                                </div>');
                $('.page__item.pageback').before('<li class="page__item page'+ index +'" page="'+ index +'" style="display: none;">\n' +
                    '                        <div class="common__tit-wrap">\n' +
                    '                            <div class="common__tit-name">\n' +
                    '                                <div class="tit__txt">'+ v.e_name +'</div>\n' +
                    '                            </div>\n' +
                    '                            <!-- <span class="event__rule"></span> -->\n' +
                    '                        </div>\n' +
                    '                        <div class="main__content">\n' + (v.e_url ?
                    ('                            <div class="video__wrap">\n' +
                    '                                <div class="video__inner">\n' +
                    '                                    <img src="'+ v.e_img +'" alt="">\n' +
                    '                                    <span class="video__player" videosrc="'+ v.e_url +'"></span>\n' +
                    '                                </div>\n' +
                    '                            </div>\n') : '') +
                    '                            <div class="info__content">'+ v.e_content +'</div>\n' +
                    '                        </div>\n' +
                    '                    </li>');
            });
        }

        slideBox();
        function slideBoxMb() {
          $(".tab__content.isMb").slide({
            mainCell: " ul",
            delayTime: 100,
            vis: 3,
            effect: "left",
            pnLoop: false,
            prevCell: ".prev",
            nextCell: ".next",
            defaultIndex:page,
            endFun:function(page){
              $('.tab__item').parents('ul').css('left', -itemWidth * page)
              if(page == ($('.tab__content .tab__item').length - 1)){
                $('.tab__content.isMb').hide();
              }
            }
          });
        }

        // 点击每一个建筑
        var itemWidth = $('.tab__item').width();
        var page = '';
        $('.main__entrance'+device).on('click', '.entrance__item', function (i) {
          var i = parseInt($(this).attr('page'));
              page = i-1;
          $('.tab__content' + device + ' .tab__item').eq(i-1).addClass('on').siblings().removeClass('on');
          $('.page__item').eq(i-1).show().siblings().css('display', 'none');
          $('.tab__item').parents('ul').css('left', -itemWidth * (i-1))
          slideBox();
          visibleTab();
        });
        
      // 内页tab切换
      function slideBox() {
          $(".slide__box").slide({
            mainCell: ".bd ul",
            trigger: "click",
            pnLoop: false,
          });
          slideBoxMb();
      }
      slideBox();
    }

      

    function loadUser() {
        clearIggidCheckStatus();
        clearCodeCheckStatus();

        if (user) {
            userExtra = user.extra_info;
            $('#iggid').val(user.iggid);

            if (user.register) {
                setIggidCheckSuccess();
            } else {
                setIggidCheckFail();
                hideShareCode();
                $('#iggid, #iggid-status.is-infos, #btn-invite').click(function () {
                    commonPop.showTips("Аккаунт не существует. Пожалуйста авторизуйтесь через игру.");
                });
                return;
            }

            $('#invite-count').text(user.ec_credit_used);
            $('.code__step-item').each(function () {
                var ic = parseInt($(this).attr('invite'));
                if (ic <= user.ec_credit_used) {
                    if (userExtra && userExtra.claim && -1 != userExtra.claim.indexOf(ic)) {
                        $(this).removeClass('is-active').addClass('is-got');
                    } else {
                        $(this).addClass('is-active');
                        $(this).find('.gift-list-name').text("");
                    }
                }
            });

            if (user.ec_param) {
                $('#my-code').text(user.ec_param);
                $('#btn-share').attr('data-clipboard-text', user.ec_param);
                $('#btn-share').show();

                var clipboard1 = new Clipboard('#btn-share');
                clipboard1.on('success', function (e) {
                    commonPop.showTips("Код скопирован!");
                });

                $('#btn-invite').attr('data-clipboard-text', "https://event-cc.igg.com/event/anniversary8cc/?&code=" + user.ec_param);
                var clipboard2 = new Clipboard('#btn-invite');
                clipboard2.on('success', function (e) {
                    commonPop.showTips("Ссылка скопирована!");
                });
            } else {
                hideShareCode();
            }

            if (userExtra) {
                if (userExtra.friend_code) {
                    friendCodeCheck = true;
                    friendCode = userExtra.friend_code;

                    $('#friend-code').val(friendCode).prop('readonly', true);
                    setCodeCheckSuccess();
                }
            }

            if (!userExtra || !userExtra.friend_code) {
                var inviteCode = "";
                if (inviteCode) {
                    $('#friend-code').val(inviteCode);
                }
            }
        } else {
            commonPop.showTips("Пожалуйста, сначала зайдите.");
            $('#btn-invite, #iggid, #btn-invite').click(function () {
                commonPop.showTips("Пожалуйста, сначала зайдите.");
            });

            hideShareCode();
        }
    }


    function setIggidCheckSuccess() {
        $('#iggid-status').removeClass('is-infos').addClass('is-success');
    }


    function setIggidCheckFail() {
        $('#iggid-status').removeClass('is-success').addClass('is-infos');
    }


    function clearIggidCheckStatus() {
        $('#iggid-status').removeClass('is-success').removeClass('is-infos');
    }

    function hideShareCode() {
        $('.share-title').text("Войдите в игру, чтобы получить уникальный код.");
        $('.share-code').hide();
        $('#btn-share').css('visibility', 'hidden');
    }


    function setCodeCheckSuccess() {
        $('#code-status').removeClass('is-infos').addClass('is-success');
    }


    function setCodeCheckFail() {
        $('#code-status').removeClass('is-success').addClass('is-infos');
    }

    function clearCodeCheckStatus() {
        $('#code-status').removeClass('is-success').removeClass('is-infos');
    }

    function loadPrizes(prizes) {
        $('.more__code-step').html('');
        $.each(prizes, function (i, v) {
            var html = [];
            html.push('<div class="code__step-item" invite="'+ i +'">\n' +
                '                                        <div class="step__icon">\n' +
                '                                            <img src="//statics.igg.com/assets/cc/res/events/2021/anniversary8/default/img/box.png" alt="">\n' +
                '                                        </div>\n' +
                '                                        <div class="step__left-num">'+ i +'</div>\n' +
                '                                        <div class="step__gift-list" style="display: none;">\n' +
                '                                            <div class="gift-list-name"></div>\n' +
                '                                            <div class="gift-list">');

            $.each(v, function (j, vv) {
                html.push('<div class="gift-list-item">\n' +
                    '                                                    <img src="'+ vv.ap_img +'" alt="">\n' +
                    '                                                    <span class="num">'+ vv.amount +'</span>\n' +
                    '                                                </div>');
            });

            html.push('</div>');
            html.push('</div>');
            html.push('</div>');

            $('.more__code-step').append(html.join("\r\n"));

            $('.code__step-item').click(function () {
                if ($(this).hasClass('is-active') && !request) {
                    request = true;
                    commonPop.showBg();
                    $.getJSON('./ajax.req.php?action=claim&invite=' + $(this).attr('invite') + '&', function (json) {
                        var msg = '';
                        if (0 == json.status) {
                            switch (json.error) {
                                case -1:
                                    msg = "Событие еще не началось, или уже завершилось";
                                    break;

                                case 1:
                                    msg = "Недостаточно приглашенных!";
                                    break;

                                case 2:
                                    msg = "Уже собрано.";
                                    break;

                                default:
                                    msg = "Неожиданная ошибка, пожалуйста, попробуйте позже.";
                                    break;
                            }

                            commonPop.showTips(msg);
                        } else {
                            user = json.data.user;
                            loadUser();

                            commonPop.addRecord(json.data.log);
                            commonPop.showTips(json.data.msg);
                        }

                        request = false;
                    });
                } else {
                    $('.step__gift-list').hide();
                    $(this).find('.step__gift-list').show();
                }
            });
        });
    }

    function init() {
        $.getJSON('./ajax.req.php?action=init&', function (json) {
            var msg = '';
            if (0 == json.status) {
                switch (json.error) {
                    case -1:
                        msg = "Событие еще не началось, или уже завершилось";
                        break;

                    default:
                        msg = "Неожиданная ошибка, пожалуйста, попробуйте позже.";
                        break;
                }

                commonPop.showTips(msg);
            } else {
                eventConfig = json.data.event_config;
                loadNews(json.data.news);
                loadPrizes(json.data.prizes);

                iggid = json.data.iggid;
                user = json.data.user;
                loadUser();
            }
        });
    }
</script>
<noscript><img src="https://event-cc.igg.com/akam/13/pixel_e460f4?a=dD01MzdjYzk0MjYyYmI0MGFiMDdkYWYwODNhZjQxZDY3ODYzNWZmNjVhJmpzPW9mZg==" style="visibility: hidden; position: absolute; left: -999px; top: -999px;" /></noscript>
<div id="orientation_change_mask" style="position: fixed; top: 0px; left: 0px; z-index: 10000; width: 100vw; height: 100vh; background-color: rgb(247, 248, 250); display: none;"><div style="position: absolute; left: 50%; top: 50%; margin-left: -37px; margin-top: -53px; width: 75px; height: 107px; background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAAAY1BMVEUAAAAzMzMzMzMyMjIyMjI1NTUyMjIyMjIzMzMzMzMyMjIyMjIyMjI1NTUyMjI0NDQzMzMzMzMxMTEwMDD3+PozMzM/P0Df4OGhoqPS09WJiYpkZGSurq+VlpeVlZZwcHFLS0xJShs8AAAAFHRSTlMA7yDfXxCfz0C/f69vMI+PkFBPMC5SK4MAAAN5SURBVHja7d3tcqIwFIDhJCQhfIi15YCKXb3/q1xriFaiLkiynnbO+2eZwR2fRgnoNJRdUlKnHILEUy0VC5tYcgibFgF56g0itFTBhi+BKCXizvOtZK51lmV6WZoRP8XC+cILFzeerRq8mdKlmTR+8cdQvOtk8DD5wKc8X1ChYjeT2WjiG0Rtye4kk3FHvYBz3bqtg7TZHeCcYPfKRx1S2u1v1nXA1g30VaOPTr5ifurs29RB2zghV+OPT/kN1v8r3b51Hbj15VlHC7mbllaZGLzChzp4Hdj0wzmY++9DlXPIWF8Ktl14oBvClD1KwlUZEzn/PuzuB9iEB7budWMPqwbnFTuSzAV9dYSg7zFQcfCTk4B/mmbrtuC6ZjsbyErfx8UU4BaOfdotv8/ZQOafazWbAmxOQ2W3/Jr5QAnDBC6g9y4s2CTgHzi2tVt+23lAO+sNMtOA9bZpPt0WXGd3zAAulkOenWOQTDMmgxtJNMASbpUwNECmZOYDNSLgMeEZBS6gZ9QMHfDaaFACL8aUYQX2RokZ+GVkyIGMgAQkIAEJSMDbQJENL5xLZ7h8auJpUS5eBEzAa3X7O+hEvgJowK+wBO7tSNX/By7AL3NAL/mClzi9y8j9PfkLgKIYIHjpDJU3hu9YpxllyvRrAFHPgx/S0EQdBGhyiRr4dpoP8QKNnW7wAqU96+EF9qdGgxbI7MVPiRdoT4AFXqCxb0K8QGFP2HiBvYyABCQgAQlIwGeBHPupTsMxjRiojsJCIQai/9hJQAISkIAERA5UBYDGfKpDf7GA/nIL/QUrAQlIQAISkIAEJCABCYgaiP6SH/2HJvqGlYAEJCABCfjLgfQN66+/3EJ/wUpAAhKQgATEDVTYf03Z2AVseIEl9l+VT5EvNljAqQ+0wB+y4EXiBbL8dAxPBrZdA/s2KtD1nks1GdjaW1y1aD927u2Du5hAM2fpJNiaWEBh8gwAlk8DG7DFWuPuMs8CO/vgfdg17gEXQLuDJNAa9whLyNs9NF0be417ylyXvW0dvA3Y+MQ17kmumOvy/9bhgTs3HuPXuPOkKM3tG9l24YEHsGn2VDhuFPvvFI99q11QbFZV7JsVazYvAecOu0Cj2K4772Z4c4YwatU8XfxbjiO+6f3JJ2bR4t/2/uNn/uEALEdKpVi4hA6s41WQ4UP/5z/+Ai9MQ1+tyGzJAAAAAElFTkSuQmCC&quot;); background-position: center center; background-repeat: no-repeat; background-size: contain; animation: 1.5s ease 0s infinite alternate none running screenRotationControlAni;"></div><p style="display: block; width: 90%; text-align: center; font-size: 14px; color: rgb(153, 153, 153); position: absolute; left: 5%; top: calc(45px + 50vh); word-break: normal; overflow-wrap: break-word;">Пожалуйста, поверните экран.</p></div></body></html>